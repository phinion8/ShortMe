<!DOCTYPE html>
<html lang="en">

<head>
      <style>
            body {
                  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            }
      </style>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>ShortMe</title>
</head>

<body>
      <h1>ShortMe</h1>
      <h3>Your Own URL Shortner</h3>
      <div>
            <form method="POST" action="/url">
                  <label>Enter Your URL</label>
                  <input type="text" name="url" placeholder="http://example.com" />
                  <button type="submit">Generate</button>
            </form>
      </div>
      <% if (locals.redirectUrl) { %>
            <p>URL Generated: <%= redirectUrl %>
            </p>
            <% } %>
                  <% if (locals.urlList) { %>
                        <table>
                              <thead>
                                    <th>S.No</th>
                                    <th>ShortID</th>
                                    <th>Redirect</th>
                                    <th>Clicks</th>
                              </thead>
                              <tbody>
                                    <% urlList.forEach((url, index)=> { %>
                                          <tr>
                                                <td>
                                                      <%= index + 1 %>
                                                </td>
                                                <td>
                                                      <%= url.urlId %>
                                                </td>
                                                <td>
                                                      <%= url.redirectUrl %>
                                                </td>
                                                <td>
                                                      <%= url.viewHistory.length %>
                                                </td>

                                          </tr>
                                          <% }) %>
                              </tbody>
                        </table>
                        <% } %>
</body>

</html>